<div layout="row" layout-padding>
	
	<div layout="column" flex>
		
		<div layout="column" class="md-whiteframe-1dp detail-view-main">
				
			<div class="md-toolbar-tools">
				<md-button class="md-icon-button" back-button>
					<md-icon class="material-icons">arrow_back</md-icon>
					<md-tooltip md-direction="bottom">Back</md-tooltip>
				</md-button>
				
		        <h5 ng-show="!showEdit">{{document.name}}</h5>
		        <md-input-container ng-show="showEdit">
		        	<label for="">Document Name</label>
		        	<input type="text" ng-model="document.name" ng-blur="changeName()">
		        </md-input-container>
					  
				<span flex></span>
				
				<md-menu md-position-mode="target-right target">
	                <md-button aria-label="Filter" ng-click="$mdOpenMenu($event)">Versions</md-button>
	                <md-menu-content width="5">
	                    <md-menu-item layout-padding ng-repeat="history in document.fileHistory">
							<md-button ng-click="changeVersion('dropdown', history)">{{history.version}}</md-button>
	                    </md-menu-item>
	                </md-menu-content>
	            </md-menu>
				
				<span flex></span>

				<input filepicker type="filepicker-dragdrop" data-fp-services="computer, DROPBOX, gmail, skydrive, GOOGLE_DRIVE" on-success="onSuccess(event.fpfile)" data-fp-multiple="false" data-fp-drag-class="filepicker-drag"/>

				<md-button ng-show="document.owner._id==currentUser._id" ng-click="showEdit=!showEdit" class="md-icon-button">
					<md-icon class="material-icons">edit</md-icon>
					<md-tooltip md-direction="bottom">Edit Document</md-tooltip>
				</md-button>
				
				<md-button ng-click="openDocumentInNewTab()" class="md-icon-button">
					<md-icon class="material-icons">open_in_new</md-icon>
					<md-tooltip md-direction="bottom">Open In New Tab</md-tooltip>
				</md-button>
				
				<md-button ng-click="downloadDocument()" class="md-icon-button">
					<md-icon class="material-icons">file_download</md-icon>
					<md-tooltip md-direction="bottom">Download File</md-tooltip>
				</md-button>
				
		    </div>
			
			<md-divider layout="row" flex></md-divider>
	
			<div layout="column" layout-margin flex>
				<div class="content" layout="row">
					<div flex="10">
						<md-button class="md-icon-button" ng-click="changeVersion('button', null, 'back')">
							<md-icon class="material-icons">skip_previous</md-icon>
							<md-tooltip md-direction="bottom">Previous Version</md-tooltip>
						</md-button>
					</div>
					<div flex="80" file-picker-previewer type="filepicker-preview" url="{{document.currentPath}}" style="height: 100%;"> </div>
					<div flex="10">
						<md-button class="md-icon-button" ng-click="changeVersion('button', null, 'next')">
							<md-icon class="material-icons">skip_next</md-icon>
							<md-tooltip md-direction="bottom">Next Version</md-tooltip>
						</md-button>
					</div>
				</div>
				
				<!-- <md-divider></md-divider> -->
				
				<!-- <div layout="column" layout-align="center center"> -->
					<!-- <p class="md-body-2">Upload Document Reversion</p>
					<input filepicker type="filepicker-dragdrop" data-fp-services="computer, DROPBOX, gmail, skydrive, GOOGLE_DRIVE" on-success="onSuccess(event.fpfile)" data-fp-multiple="false" data-fp-drag-class="filepicker-drag"/> -->
		  	      	<!-- <md-button ng-show="!thread.isArchive" aria-label="Upload New Version" class="md-icon-button" ng-click="showModal($event, 'upload-document-reversion.html')">
					  	<md-tooltip md-direction="top">Upload a New Version</md-tooltip>
				      	<md-icon class="material-icons">file_upload</md-icon>
		  	      	</md-button> -->
				<!-- </div> -->
				
			</div>
		</div>
	</div>
</div>