<div layout="row" layout-padding>
	
	<div layout="column" flex style="height: {{contentHeight}}px">
		
		<div layout="column" class="md-whiteframe-1dp detail-view-main">
				
			<div class="md-toolbar-tools">
				<md-button class="md-icon-button" back-button>
					<md-icon class="material-icons">arrow_back</md-icon>
					<md-tooltip md-direction="bottom">Back</md-tooltip>
				</md-button>
				
		        <h5>{{document.name}} (Viewing Version {{document.currentVersion}} of {{document.fileHistory.length}})</h5>
					  
				<span flex></span>
				
				<md-menu md-position-mode="target-right target">
	                <md-button aria-label="Filter" ng-click="$mdOpenMenu($event)">Select Version</md-button>
	                <md-menu-content width="5">
	                    <md-menu-item ng-repeat="history in document.fileHistory">
							<md-button ng-click="changeVersion('dropdown', history, null, $index+1)">Version {{$index+1}} of {{document.fileHistory.length}}</md-button>
	                    </md-menu-item>
	                </md-menu-content>
	            </md-menu>
				
				<md-button ng-click="openDocumentInNewTab()" class="md-icon-button">
					<md-icon class="material-icons">open_in_new</md-icon>
					<md-tooltip md-direction="bottom">Open In New Tab</md-tooltip>
				</md-button>
				
				<md-button ng-show="document.owner._id==currentUser._id" ng-click="showDetail=!showDetail" class="md-icon-button">
					<md-icon class="material-icons">edit</md-icon>
					<md-tooltip md-direction="bottom">Edit Document</md-tooltip>
				</md-button>
				
		    </div>
			
			<md-divider layout="row" flex></md-divider>
			
			<div ng-show="showDetail" layout-padding  style="background-color: #FAFAFA">
				
				<div layout="row" layout-align="space-around center">
					<md-button class="md-button md-primary" ng-click="showEditThreadModal($event)">Edit Name</md-button>
				</div>
				
			</div>
			
			<md-divider layout="row" ng-show="showDetail" flex></md-divider>
	
			<div layout="column" layout-margin flex>
				
				<div class="content" ng-show="document.fileHistory.length===0" layout-align="center center">
					Currently, this document has no versions. Upload one now.
				</div>
				
				<div class="content" layout="row" ng-show="document.fileHistory.length > 0">
					<div file-picker-previewer type="filepicker-preview" url="{{document.currentPath}}" style="height: 100%;" flex></div>
				</div>
				
			</div>
			
			<md-divider></md-divider>
			
			<div layout="row" layout-align="center center" layout-padding>
				<input filepicker type="filepicker" data-fp-services="computer, DROPBOX, gmail, skydrive, GOOGLE_DRIVE" on-success="onSuccess(event.fpfile)" data-fp-button-class="md-button md-raised md-primary" data-fp-button-text="Upload a New Version"/>
			</div>
			
		</div>
	</div>
</div>