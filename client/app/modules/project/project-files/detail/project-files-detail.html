<div layout="row" class="detail-view-content">
	
	<div layout="column" flex="70" class="md-whiteframe-1dp">
		
		<div class="detail-header" layout="row" layout-padding>
			<p>{{file.name}}</p>
			<span flex></span>
			<div>
				<md-button ng-click="showModal($event, 'file-history.html')">View File</md-button>
			</div>
<!--			<md-chips class="set-filters">
				<md-chip ng-click="chipsFilter()">Show Related Activities</md-chip>
			</md-chips> -->
	    </div>
		
		<div class="main-page-content" layout-padding>
			<div class="item-activity">
				<div layout="row" flex class="activity-stream-head">
					<p>This file was created by <strong>{{file.owner.name}}</strong> on {{file.createdAt | date: 'dd/MM/yyyy hh:mm a'}}. <span ng-show="file.belongTo.item">This file is related to the {{file.belongTo.type}} <a href="{{file.belongTo.link}}">{{file.belongTo.item.name}}</a>.</span></p>
				</div>
				<div layout="row" layout-align="center center" flex class="activity-stream" ng-repeat="activity in file.activities" ng-class="{related: activity.element.related}">
					
					<span flex="5"></span>
					
					<div class="icon-type" ng-switch="activity.type">
                        <md-icon ng-switch-when="upload-reversion" class="material-icons md-primary">attach_file</md-icon>
						<md-icon ng-switch-when="edit" class="material-icons md-primary">edit</md-icon>
						<md-icon ng-switch-when="assign" class="material-icons md-primary">person_outline</md-icon>
						<md-icon ng-switch-when="related-thread" class="material-icons md-primary">chat_bubble_outline</md-icon>
						<md-icon ng-switch-when="related-task" class="material-icons md-primary">done_all</md-icon>
						<md-icon ng-switch-when="related-file" class="material-icons md-primary">attach_file</md-icon>
					</div>
					
					<span flex="5"></span>
					
					<div flex class="activity-detail">
						
						<p ng-switch="activity.type" class="activity-header">
							<span class="activity-creator">{{activity.user.name}}</strong>
							
                            <span class="meta-data" ng-switch-when="upload-reversion"> uploaded a new revision at <span class="date-time">{{activity.createdAt | date:'hh:mm a'}}, {{activity.createdAt |date:'dd-MM-yyyy'}}</span>:</span>
							<span class="meta-data" ng-switch-when="edit"> edited the details of this file at <span class="date-time">{{activity.createdAt | date:'hh:mm a'}}, {{activity.createdAt |date:'dd-MM-yyyy'}}</span>:</span>
							<span class="meta-data" ng-switch-when="assign"> assigned the following people to this file at <span class="date-time">{{activity.createdAt | date:'hh:mm a'}}, {{activity.createdAt |date:'dd-MM-yyyy'}}</span>:</span>
							<span class="meta-data" ng-switch-when="related-thread"> attached the related message thread at <span class="date-time">{{activity.createdAt | date:'hh:mm a'}}, {{activity.createdAt |date:'dd-MM-yyyy'}}</span>:</span>
							<span class="meta-data" ng-switch-when="related-task"> attached the related task at <span class="date-time">{{activity.createdAt | date:'hh:mm a'}}, {{activity.createdAt |date:'dd-MM-yyyy'}}</span>:</span>
							<span class="meta-data" ng-switch-when="related-file"> attached the related file at <span class="date-time">{{activity.createdAt | date:'hh:mm a'}}, {{activity.createdAt |date:'dd-MM-yyyy'}}</span>:</span>
							
						</p>
						
						<p ng-switch="activity.type" class="activity-body md-body">
							
                            <span ng-switch-when="upload-reversion" layout="column"> {{activity.element.name}}</span>
							
							<span ng-switch-when="edit"> ({{(activity.element.name) ? "Name: "+activity.element.name+", " : ""}} {{(activity.element.description) ? "Description: "+activity.element.description+", " : ""}} {{(activity.element.tags) ? "Tags : " : ""}}<span ng-repeat="tag in activity.element.tags">{{tag}}, </span>)</span>
							<span ng-switch-when="assign"><span ng-repeat="member in activity.element.members">{{member}}, </span></span>
							<span ng-switch-when="related-thread">"<a ui-sref="project.messages.detail({id: file.project, messageId: activity.element.item})">{{activity.element.name}}</a>"</span>
							<span ng-switch-when="related-task">"<a ui-sref="project.tasks.detail({id: file.project, taskId: activity.element.item})">{{activity.element.name}}</a>"</span>
							<span ng-switch-when="related-file">"<a ui-sref="project.files.detail({id: file.project, fileId: activity.element.item})">{{activity.element.name}}</a>"</span>
						</p>
						
					</div>
				</div>
			</div>
			
			<div>
  		  	  <md-fab-speed-dial ng-cloak md-open="false" md-direction="up" class="md-scale md-fab-bottom-right fab-main" ng-show="!isArchive">
  				  <md-fab-trigger>
  			  	      <md-button aria-label="Add an Item to this Project" class="md-fab md-primary">
  						  <md-tooltip md-direction="left">Actions...</md-tooltip>
  					      <md-icon class="material-icons" >add</md-icon>
  			  	      </md-button>
  		  	      </md-fab-trigger>
  				  <md-fab-actions>
			  	      <md-button aria-label="Edit the File Details" class="md-fab md-raised md-mini md-primary" ng-click="showModal($event, 'edit-file.html')">
	  					  <md-tooltip md-direction="left">Edit File Details</md-tooltip>
	  				      <md-icon class="material-icons">edit</md-icon>
			  	      </md-button>
			  	      <md-button aria-label="Upload a Revision" class="md-fab md-raised md-mini md-primary" ng-click="showModal($event, 'upload-reversion.html')">
	  					  <md-tooltip md-direction="left">Upload a Reivsion</md-tooltip>
	  				      <md-icon class="material-icons">file_upload</md-icon>
			  	      </md-button>
  			  	      <md-button aria-label="Add a Team Member" class="md-fab md-raised md-mini md-primary" ng-click="showModal($event, 'assign.html')">
  	  					  <md-tooltip md-direction="left">Assign to a Team Member</md-tooltip>
  	  				      <md-icon class="material-icons">person_outline</md-icon>
  			  	      </md-button>
  			  	      <!-- <md-button aria-label="Add a Message" class="md-fab md-raised md-mini" ng-click="showModal($event, 'add-related-thread.html')">
  	  					  <md-tooltip md-direction="left">Attach a Related Message</md-tooltip>
  	  				      <md-icon class="material-icons">chat_bubble_outline</md-icon>
  			  	      </md-button>
  			  	      <md-button aria-label="Add a Task" class="md-fab md-raised md-mini" ng-click="showModal($event, 'add-related-task.html')">
  	  					  <md-tooltip md-direction="left">Attach a Related Task</md-tooltip>
  	  				      <md-icon class="material-icons">done_all</md-icon>
  			  	      </md-button>
  			  	      <md-button aria-label="Add a Related File" class="md-fab md-raised md-mini" ng-click="showModal($event, 'add-related-file.html')">
  	  					  <md-tooltip md-direction="left">Attach a Related File</md-tooltip>
  	  				      <md-icon class="material-icons">attach_file</md-icon>
  			  	      </md-button> -->
  			  	  </md-fab-actions>
  		  	  </md-fab-speed-dial>
		    </div>
			
		</div>
	</div>
		
	<related-items data="file" flex="30"></related-items>
		
</div>
			
	
	
	