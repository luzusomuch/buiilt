<div class="row card" style="margin-top: 10px">
    <!-- IF THE PROJECT MANAGER IS THE BUILDER -->
    <div ng-if="builderPackage.projectManager.type == 'builder'" class="col s2" style="margin-right: 1px solid #eee; max-height: 81vh; overflow-y: scroll; font-size: 12px; color: #757575;">
        <p ng-if="currentUser.isLeader" class="feature-btn-wrapper"><a ng-click="setInvite()" class="modal-trigger feature-btn" href="#tender_modal">INVITE PEOPLE</a></p>
        <div>
            <p>TEAM</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-repeat="currentTeamMember in currentTeamMembers" ng-click="selectUser(currentTeamMember, 'team')" ng-style="currentTeamMember._id == selectedUser._id ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="currentTeamMember.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{currentTeamMember.name}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{currentTeamMember.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="(currentUser.type == 'client' || currentUser.type == 'architect') && currentUser.isLeader" ng-mouseover="getTenderListByType('builder')">
            <p >BUILDER</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="builder in invitePeople.builders" ng-click="selectUser(builder, 'builder')" ng-style="builder.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="builder._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(builder._id) ? builder._id.name : builder.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{builder.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="currentUser.type == 'builder' && isLeader" ng-mouseover="getTenderListByType('architect')">
            <p>ARCHITECT</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="architect in invitePeople.architects" ng-click="selectUser(architect., 'architect')" ng-style="architect.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="architect._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(architect._id) ? architect._id.name : architect.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{architect.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="currentUser.type == 'builder' && isLeader" ng-mouseover="getTenderListByType('client')">
            <p>CLIENT</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="client in invitePeople.clients" ng-click="selectUser(client, 'client')" ng-style="client.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="client._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(client._id) ? client._id.name : client.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{client.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="currentUser.type == 'builder' && isLeader" ng-mouseover="getTenderListByType('subcontractor')">
            <p >SUBCONTRACTORS</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="subcontractor in invitePeople.subcontractors" ng-click="selectUser(subcontractor, 'subcontractor')" ng-style="subcontractor.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="subcontractor.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(subcontractor._id) ? subcontractor._id.name : subcontractor.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{subcontractor.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="(currentUser.type == 'client' || currentUser.type == 'builder' || currentUser.type == 'architect') && currentUser.isLeader" ng-mouseover="getTenderListByType('consultant')">
            <p >CONSULTANTS</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-repeat="consultant in invitePeople.consultants" ng-click="selectUser(consultant, 'consultant')" ng-style="consultant.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="consultant.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(consultant._id) ? consultant._id.name : consultant.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{consultant.unreadMessagesNumber}}</span>
            </p>
        </div>

        <div>
            <p ng-show="(currentUser.type == 'subcontractor' || currentUser.type == 'consultant') && currentUser.isLeader">{{inviterTypeText}}</p>
            <p ng-show="(currentUser.type == 'subcontractor' || currentUser.type == 'consultant') && currentUser.isLeader" class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-click="selectUser(invitePeople.inviter)" ng-style="invitePeople.inviter._id == selectedUser._id ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="invitePeople.inviter.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{invitePeople.inviter.name}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{invitePeople.inviter.unreadMessagesNumber}}</span>
            </p>
        </div>
    </div>
    <!-- IF THE PROJECT MANAGER IS THE ARCHITECT -->
    <div ng-if="builderPackage.projectManager.type == 'architect'" class="col s2" style="margin-right: 1px solid #eee; max-height: 81vh; overflow-y: scroll; font-size: 12px; color: #757575;">
        <p ng-if="currentUser.isLeader" class="feature-btn-wrapper"><a ng-click="setInvite()" class="modal-trigger feature-btn" href="#tender_modal">INVITE PEOPLE</a></p>
        <div>
            <p>TEAM</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-repeat="currentTeamMember in currentTeamMembers" ng-click="selectUser(currentTeamMember, 'team')" ng-style="currentTeamMember._id == selectedUser._id ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="currentTeamMember.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{currentTeamMember.name}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{currentTeamMember.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="currentUser.type == 'architect' && currentUser.isLeader" ng-mouseover="getTenderListByType('builder')">
            <p>BUILDER</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="builder in invitePeople.builders" ng-click="selectUser(builder, 'builder')" ng-style="(builder.email == selectedUser.email) ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="builder._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(builder._id) ? builder._id.name : builder.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{builder.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-mouseover="getTenderListByType('architect')">
            <p ng-show="(currentUser.type == 'client' || currentUser.type == 'builder') && currentUser.isLeader">ARCHITECT</p>
            <p ng-show="(currentUser.type == 'client' || currentUser.type == 'builder') && currentUser.isLeader" class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="architect in invitePeople.architects" ng-click="selectUser(architect, 'architect')" ng-style="architect.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="architect._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(architect._id) ? architect._id.name : architect.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{architect.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-mouseover="getTenderListByType('client')">
            <p ng-show="currentUser.type == 'architect' && currentUser.isLeader">CLIENT</p>
            <p ng-show="currentUser.type == 'architect' && currentUser.isLeader" class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="client in invitePeople.clients" ng-click="selectUser(client, 'client')" ng-style="client.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="client._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(client._id) ? client._id.name : client.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{client.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-mouseover="getTenderListByType('subcontractor')">
            <p ng-show="currentUser.type == 'builder' && currentUser.isLeader">SUBCONTRACTORS</p>
            <p ng-show="currentUser.type == 'builder' && currentUser.isLeader" class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="subcontractor in invitePeople.subcontractors" ng-click="selectUser(subcontractor, 'subcontractor')" ng-style="subcontractor.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="subcontractor.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(subcontractor._id) ? subcontractor._id.name : subcontractor.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{subcontractor.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-mouseover="getTenderListByType('consultant')">
            <p ng-show="(currentUser.type == 'client' || currentUser.type == 'builder' || currentUser.type == 'architect') && currentUser.isLeader">CONSULTANTS</p>
            <p ng-show="(currentUser.type == 'client' || currentUser.type == 'builder' || currentUser.type == 'architect') && currentUser.isLeader" class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-repeat="consultant in invitePeople.consultants" ng-if="consultant.inviter._id == currentUser._id" ng-click="selectUser(consultant, 'consultant')" ng-style="consultant.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="consultant._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>

                {{(consultant._id) ? consultant._id.name : consultant.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{consultant.unreadMessagesNumber}}</span>
            </p>
        </div>

        <div>
            <p ng-show="(currentUser.type == 'subcontractor' || currentUser.type == 'consultant') && currentUser.isLeader">{{inviterTypeText}}</p>
            <p ng-show="(currentUser.type == 'subcontractor' || currentUser.type == 'consultant') && currentUser.isLeader" class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-click="selectUser(invitePeople.inviter)" ng-style="invitePeople.inviter._id == selectedUser._id ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="invitePeople.inviter.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{invitePeople.inviter.name}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{invitePeople.inviter.unreadMessagesNumber}}</span>
            </p>
        </div>
    </div>
    <!-- IF THE PROJECT MANAGER IS THE HOMEOWNER -->
    <div ng-if="builderPackage.projectManager.type == 'homeOwner'" class="col s2" style="margin-right: 1px solid #eee; max-height: 81vh; overflow-y: scroll; font-size: 12px; color: #757575;">
        <p ng-if="currentUser.isLeader" class="feature-btn-wrapper"><a ng-click="setInvite()" class="modal-trigger feature-btn" href="#tender_modal">INVITE PEOPLE</a></p>
        <div>
            <p>TEAM</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-repeat="currentTeamMember in currentTeamMembers" ng-click="selectUser(currentTeamMember, 'team')" ng-style="currentTeamMember._id == selectedUser._id ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="currentTeamMember.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{currentTeamMember.name}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{currentTeamMember.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="currentUser.type == 'client' && currentUser.isLeader" ng-mouseover="getTenderListByType('builder')">
            <p >BUILDER</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="builder in invitePeople.builders" ng-click="selectUser(builder, 'builder')" ng-style="builder.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="builder._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(builder._id) ? builder._id.name : builder.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{builder.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="currentUser.type == 'client' && currentUser.isLeader" ng-mouseover="getTenderListByType('architect')">
            <p >ARCHITECT</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="architect in invitePeople.architects" ng-click="selectUser(architect, 'architect')" ng-style="architect.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="architect._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(architect._id) ? architect._id.name : architect.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{architect.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="(currentUser.type == 'builder' || currentUser.type == 'architect') && currentUser.isLeader" ng-mouseover="getTenderListByType('client')">
            <p >CLIENT</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="client in invitePeople.clients" ng-click="selectUser(client, 'client')" ng-style="client.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="client._id.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(client._id) ? client._id.name : client.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{client.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="currentUser.type == 'builder' && currentUser.isLeader" ng-mouseover="getTenderListByType('subcontractor')">
            <p >SUBCONTRACTORS</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px;" ng-repeat="subcontractor in invitePeople.subcontractors" ng-click="selectUser(subcontractor, 'subcontractor')" ng-style="subcontractor.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="subcontractor.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(subcontractor._id) ? subcontractor._id.name : subcontractor.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{subcontractor.unreadMessagesNumber}}</span>
            </p>
        </div>
        <div ng-show="(currentUser.type == 'client' || currentUser.type == 'builder' || currentUser.type == 'architect') && currentUser.isLeader" ng-mouseover="getTenderListByType('consultant')">
            <p >CONSULTANTS</p>
            <p class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-repeat="consultant in invitePeople.consultants" ng-click="selectUser(consultant, 'consultant')" ng-style="consultant.email == selectedUser.email ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="consultant.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{(consultant._id) ? consultant._id.name : consultant.email}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{consultant.unreadMessagesNumber}}</span>
            </p>
        </div>

        <div>
            <p ng-show="(currentUser.type == 'subcontractor' || currentUser.type == 'consultant') && currentUser.isLeader">{{inviterTypeText}}</p>
            <p ng-show="(currentUser.type == 'subcontractor' || currentUser.type == 'consultant') && currentUser.isLeader" class="margin-10-0 font-weight-600 valign-wrapper" style="margin-left: 10px" ng-click="selectUser(invitePeople.inviter)" ng-style="invitePeople.inviter._id == selectedUser._id ? {'color': '#64B5F6'} : {'color': 'black'}">
                <i class="tiny material-icons valign" style="color: #64B5F6; margin-right: 5px; font-size: 8px" ng-style="invitePeople.inviter.isOnline ? {'color': '#81C784'} : {'color': '#E0E0E0'}">brightness_1</i>
                {{invitePeople.inviter.name}}
                <span style="background-color:#eee; padding: 5px; margin-left: 5px;">{{invitePeople.inviter.unreadMessagesNumber}}</span>
            </p>
        </div>
    </div>

    <div class="col s7" style="border-left: 1px solid #eee; border-right: 1px solid #eee;">
        <div style="height: 69vh; overflow-y: scroll; position: relative;" id="peopleChatContent" scroll-to-bottom="selectedChatPeople.messages">
            <div class="row chat-paragraph valign-wrapper" style="border-bottom: 1px solid #eee;" ng-repeat="message in selectedChatPeople.messages" ng-style="message.latestMessage ? {'position':'relative'} : {}">
                <span ng-if="message.latestMessage" style="position: absolute; top: -20px; left: 0px; right: 0px; border-top: 1px solid red;">
                    <small style="position: absolute; top: -15px; right: 20px; background-color: #FFF; padding: 5px;">New messages</small>
                    <a href=""></a>
                </span>
                <div class="col">
                    <i ng-if="message.isFocus" class="tiny material-icons valign" style="color: red;" style="color: red">brightness_1</i>
                </div>
                <div class="col">
                    <p class="row chat-name" style="font-size: 13px; color: #757575; margin-bottom: 0px">
                        <strong>{{(message.user.name) ? message.user.name : message.email}}</strong>
                        <span style="font-size: 12px"> - {{message.sendAt | date : 'MMM d, y h:mm:ss a'}}.</span>
                        <span style="font-size: 10px" ng-if="message.peopleHasSeen.length > 0">Seen by:<span ng-repeat="seenUser in message.peopleHasSeen" style="background-color: #E0E0E0; border-radius: 2px; margin-right: 3px; padding: 3px"> {{seenUser}}</span></span>
                    </p>

                    <p class="row chat-text" style="font-size: 13px; margin-top:3px">
                        <span ng-bind-html="message.text | mention: message.mentions"></span>
                    </p>
                </div>
            </div>
        </div>

        <div class="valign-wrapper" style="border-top: 1px solid #eee;">
            <form class="col s11">
                <div class="row" style="margin-bottom: -5px; margin-top: -18px">
                    <div id="mentionPeople" class="col s12" ng-if="showPopup" style="position: fixed; bottom: 150px; height: 100px; width:200px; background-color:#64B5F6; overflow-y: auto">
                        <ul>
                            <li ng-click="getMentionValue(selectedUser)">{{selectedUser.name}}</li>
                        </ul>
                    </div>
                    <div class="input-field col s12">
                        <textarea placeholder="Send a Message..." id="textarea1-people-chat" class="materialize-textarea" ng-model="message.text" ng-keydown="enterMessage($event);"></textarea>
                    </div>
                </div>
            </form>
            <div class="col s1 valign">
                <a ng-click="setUpload()"><i class="material-icons modal-trigger" href="#new_attachment" style="color: #64B5F6">attach_file</i></a>
                <a><i class="material-icons valign modal-trigger" href="#new_task" style="color: #64B5F6">done</i></a>

            </div>
        </div>
    </div>

    <div class="col s3">
        <div class="row">
            <div class="col s12" style="margin-top: 15px;">
                <ul class="tabs" tabs>
                    <li class="tab col s3"><a class="active" href="#test1">
                        <i class="material-icons">info_outline</i>
                    </a></li>
                    <li class="tab col s3"><a href="#test2">
                        <i class="material-icons">attachment</i>
                    </a></li>
                    <li id="taskTab" class="tab col s3"><a href="#test3">
                        <i class="material-icons">done_all</i>
                    </a></li>
                </ul>
            </div>
            <div id="test1" class="col s12" style="height: 65vh; overflow-y: scroll">
                <div class="attachment-row" style="font-size: 12px; border-bottom: 1px solid #eee">
                    <div style="border: 1px solid #BBDEFB; background-color: #E3F2FD; border-radius: 3px; padding: 3px" ng-if="tendersList.length > 0">
                        <p style="">This person is currently tendering for {{builderPackage.name}}.</p>
                        <p><a class="modal-trigger" href="#view_tender_detail">View Tender Details</a></p>
                    </div>
                </div>
            </div>
            <div id="test2" class="col s12" style="height: 65vh; overflow-y: scroll">
                <div class="attachment-row" style="font-size: 12px; border-bottom: 1px solid #eee">
                    <p class="feature-btn-wrapper"><a class="modal-trigger feature-btn" href="#new_attachment" ng-click="setUpload()">ADD AN ATTACHMENT</a></p>
                </div>
                <div class="attachment-row" style="font-size: 12px; border-bottom: 1px solid #eee" ng-repeat="file in files" ng-if="file.isOwner">
                    <p class="margin-10-0"><a href="#modal-attachment-detail-{{file._id}}" class="modal-trigger">{{file.title}}(Version: {{file.version + 1}})</a></p>
                </div>
            </div>
            <div id="test3" class="col s12" style="height: 65vh; overflow-y: scroll">
                <div class="task-row" style="font-size: 12px; border-bottom: 1px solid #eee">
                    <p class="feature-btn-wrapper"><a class="modal-trigger feature-btn" href="#new_task">ADD A TASK</a></p>
                </div>
                <div class="task-row" style="font-size: 12px; border-bottom: 1px solid #eee" ng-repeat="task in tasks" ng-if="task.isOwner">
                    <div class="col s2">
                        <i ng-if="task.isFocus" class="tiny material-icons valign" style="color: red;" style="color: red">brightness_1</i>
                    </div>
                    <div class="col s10">
                        <p class="margin-10-0"><a href="#modal-task-detail-{{task._id}}" class="modal-trigger">{{task.name}}</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="new_attachment" class="modal modal-fixed-footer" style="width: 60%">
    <form name="uploadForm" ng-submit="uploadNewAttachment()">
        <div class="modal-content">
            <h5>New Attachment</h5>
            <div class="row">
                <input filepicker type="filepicker-dragdrop" data-fp-services="computer, DROPBOX, gmail, skydrive, GOOGLE_DRIVE" on-success="onSuccess(event.fpfiles)" data-fp-multiple="true"/>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="modal-action btn-flat">Attach</button>
            <button type="button" class="modal-action modal-close btn-flat">Cancel</button>
        </div>
    </form>
</div>

<div id="new_task" class="modal modal-fixed-footer" style="width: 60%">
    <form name="newTaskForm" ng-submit="addNewTask(newTaskForm)">
        <div class="modal-content">
            <h5>New Task</h5>
            <div class="row">
                <label>Title</label>
                <input type="text" name="name" ng-model="task.name" ng-class="{'invalid' : newTaskForm.name.$invalid && submitted}" required>
                <p class="validate-message" ng-show="newTaskForm.name.$error.required && submitted">Task title is required</p>
            </div>
            <div class="row">
                <label>Task Description</label>
                <textarea name="description" id="description" ng-model="task.description" ng-class="{'invalid' : newTaskForm.description.$invalid && submitted}" required></textarea>
                <p class="validate-message" ng-show="newTaskForm.description.$error.required && submitted">Task description is required</p>
            </div>
            <div class="row">
                <label for="">Task due date</label>
                <input type="text"
                    name="created"
                    id="dueDate"
                    ng-model="task.dateEnd"
                    format="mm/dd/yyyy"
                    datepicker
                />
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="modal-action btn-flat">Save</button>
            <button type="button" class="modal-action modal-close btn-flat">Cancel</button>
        </div>
    </form>
</div>

<div id="tender_modal" class="modal modal-fixed-footer" style="width: 60%">
    <form name="formInvite" ng-submit="inviteMorePeople(formInvite)">
        <div class="modal-content">
            <h5>Invite People to Join {{builderPackage.name}}</h5>
            <div class="row">
                <span ng-repeat="type in availableUserType">
                    <input id="{{type.value}}" type="radio" ng-model="invite.type" ng-value="type.value" name="inviteType" ng-click="getChangeTypeValue(invite.type)">
                    <label for="{{type.value}}">{{type.text}}</label>
                </span>
            </div>
            <div ng-show="invitePeopleStep == 2">
                <div class="row" ng-hide="invite.type == 'addTeamMember' || invite.type == 'addClient'">
                    <p>Do they need to provide a tender?</p>
                    <input id="yes" type="radio" ng-model="invite.isTender" name="isTender" ng-value='true' checked="true"/>
                    <label for="yes">Yes</label>
                    <input id="no" type="radio" ng-model="invite.isTender" name="isTender" ng-value='false'/>
                    <label for="no">No</label>
                </div>
                <div class="row" ng-show="invite.isTender">
                    <label for="">Description</label>
                    <input type="text" name="description" ng-model="invite.description" ng-class="{'invalid' : formInvite.description.$invalid && submitted}">
                    <p ng-if="formInvite.description.$erorr.required && submitted" class="validate-message">Description is required</p>
                </div>
                <div class="row" ng-if="!invite.isTender" ng-hide="invite.isInviteTeamMember">
                    <label for="">Email</label>
                    <input type="email" name="email" ng-model="invite.email" ng-class="{'invalid' : formInvite.email.$invalid && submitted}">
                </div>
                <div class="row" ng-if="invite.isInviteTeamMember">
                    <div class="row">
                        <p>Assignees</p>
                        <div class="card col" style="padding: 5px; margin-left: 10px" ng-repeat="member in invite.teamMember">
                            {{member.name}} <span ng-if="member.canRevoke"><a href="#!" ng-click="revokeTeamMember(member,$index)"><i class="mdi-navigation-cancel" style="margin-left: 5px"></i></a></span>
                        </div>
                    </div>
                    <div class="row">
                        <p>Available Assignee's:</p>
                        <a href="#!" ng-click="inviteTeamMember(member,$index)" ng-repeat="member in availableTeamMember track by $index">
                            <div class="card col" style="padding: 5px; margin-left: 10px">
                                {{member.name}}
                            </div>
                        </a>
                    </div>
                </div>
                <div class="row" ng-if="invite.isTender">
                    <div class="col s8">
                        <label for="">Email</label>
                        <input type="email" name="email" ng-model="invite.email" ng-class="{'invalid' : formInvite.email.$invalid && submitted}">
                    </div>
                    <div class="col s4">
                        <button type="button" class="btn" ng-click="addInvitee(invite.email)">Add</button>
                    </div>
                </div>
                <div class="row">
                    <ul>
                        <li ng-repeat="invitee in invite.invitees">
                            <div class="col s8">{{invitee.email}}</div>
                            <div class="col s4">
                                <button type="button" class="btn" ng-click="removeInvitee($index)">Remove</button>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="modal-action btn-flat">Add</button>
            <button type="button" class="modal-action modal-close btn-flat">Cancel</button>
        </div>
    </form>
</div>

<div class="modal modal-fixed-bottom" id="view_tender_detail" style="width: 60%">
    <h5>View detail of tender type {{selectedTeamType}}</h5>
    <div class="modal-content">
        <ul>
            <li ng-repeat="tender in tendersList">
                <div class="col s10">
                    <div class="col s6">{{tender.tender._id.name}}</div>
                    <div class="col s6">{{tender.tender._id.email}}</div>
                </div>
                <div class="col s2">
                    <button ng-if="currentUser.hasSelect" type="button" class="btn" ng-click="selectWinnerTender(tender)">Select this tender</button>
                </div>
            </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button type="button" class="modal-action modal-close btn-flat">Close</button>
    </div>
</div>

<div class="modal modal-fixed-bottom" id="modal-attachment-detail-{{file._id}}" ng-repeat="file in files">
    <h5>View attachment {{file.title}} detail</h5>
    <div class="modal-content">
        <div file-picker-previewer type="filepicker-preview" url="{{file.path}}" style="height:70vh;"> </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="modal-action modal-close btn-flat">Close</button>
        <button type="button" ng-click="downloadFile(file)" class="modal-action modal-close btn-flat">Download</button>
    </div>
</div>

<div class="modal modal-fixed-bottom" id="modal-task-detail-{{task._id}}" ng-repeat="task in tasks" style="width: 60%">
    <h5>View task {{task.name}} detail</h5>
    <div class="modal-content">
        <p>{{task.description}}</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="modal-action modal-close btn-flat">Close</button>
    </div>
</div>
