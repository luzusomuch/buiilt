<div class="detail-header" layout-padding layout="row">
    <p>Members</p>
</div>

<div class="main-page-content">
	<div layout-padding layout-margin layout="row" ng-show="isWaitingTeamAccept">
		<h3>We have sent a notification to the team you have requested to join. We will inform you once you get approval.</h3>
	</div>

	<md-list ng-cloak>

		<div ng-repeat="leader in currentTeam.leader">


			<md-list-item class="md-2-line">
				<div class="md-list-item-text" layout="column">
			          <h3>{{ leader.name }}</h3>
			          <p>{{ leader.email }}</p>
		        </div>
			</md-list-item>
			<md-divider></md-divider>


		</div>

		<div ng-repeat="member in currentTeam.member">
			
			<md-list-item class="md-2-line secondary-button-padding">
				<div class="md-list-item-text" layout="column">
			          <h3>{{ (member._id) ? member._id.name : "Pending Sign Up"}}</h3>
			          <p>{{ (member.email) ? member.email : member._id.email }}</p>
		        </div>
				<md-button class="md-secondary" ng-click="acceptJoinRequest(member)" ng-if="currentUser.isLeader &&  member._id && member.status == 'Waiting'" style="margin-right: 90px">
					<md-icon class="material-icons">check</md-icon>
				</md-button>
				<md-button class="md-secondary" ng-click="removeMember(member)" ng-if="currentUser.isLeader">
					<md-icon class="material-icons">delete</md-icon>
				</md-button>
				<md-button class="md-secondary" ng-click="assignLeader(member)" ng-if="currentUser.isLeader &&  member._id && member.status == 'Active'" style="margin-right: 90px">
					<md-icon class="material-icons">supervisor_account</md-icon>
				</md-button>
			</md-list-item>
			<md-divider></md-divider>
			
		</div>

	</md-list>
	
	<div>
  	    <md-fab-speed-dial ng-cloak md-open="false" md-direction="up" class="md-scale md-fab-bottom-right fab-list">
		    <md-fab-trigger>
	  	        <md-button aria-label="Actions" class="md-fab md-primary" ng-click="showAddNewStaffMemberModal($event)">
				    <md-tooltip md-direction="left">Add a New Team Member</md-tooltip>
			        <md-icon class="material-icons" >add</md-icon>
	  	        </md-button>
  	        </md-fab-trigger>
  	    </md-fab-speed-dial>
    </div>
    
</div>